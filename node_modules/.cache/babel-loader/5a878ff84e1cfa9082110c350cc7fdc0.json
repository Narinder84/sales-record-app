{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\sales-record-app\\\\src\\\\components\\\\sale-form\\\\sale-form.component.jsx\";\n\n/** @format */\nimport React from 'react';\nimport SearchInput from '../search-inut-box/search-input.box';\nimport { setAddItemToOderList, setMessage } from '../../redux/oder/oder.action';\nimport './sale-form.style.scss';\nimport { connect } from 'react-redux';\n\nclass SaleForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n\n      const data = () => {\n        switch (name) {\n          case 'productId':\n            return this.state.list.filter(val => Number(val.id) === Number(value));\n\n          case 'productName':\n            return this.state.list.filter(data => data.name.includes(value));\n\n          case 'quantity':\n            return this.setState({ ...this.setState,\n              [name]: value\n            });\n\n          default:\n            break;\n        }\n      };\n\n      const newlist = data();\n\n      if (name === 'productId') {\n        if (!value) {\n          return this.setState({ ...this.state,\n            listForId: [],\n            productId: ''\n          });\n        }\n\n        return this.setState(prevState => ({ ...prevState,\n          entringData: true,\n          [name]: value,\n          listForId: newlist,\n          selectedList: newlist.length > 0 ? newlist[this.state.cursor] : undefined,\n          productName: newlist.length ? newlist[this.state.cursor].name : ''\n        }));\n      }\n\n      if (name === 'productName') {\n        if (!value) {\n          return this.setState({ ...this.state,\n            listForProduct: [],\n            productName: ''\n          });\n        }\n\n        return this.setState({ ...this.state,\n          entringData: true,\n          [name]: value,\n          listForProduct: newlist,\n          productId: newlist.length > 0 ? newlist[this.state.cursor].id : '',\n          selectedList: newlist ? newlist[this.state.cursor] : undefined\n        });\n      }\n    };\n\n    this.handleKeyDown = e => {\n      if (this.state.productId || this.state.productName) {\n        if (e.keyCode === 40 && this.state.cursor < this.state.listForProduct.length - 1 || this.state.cursor < this.state.listForId.length - 1) {\n          e.preventDefault();\n\n          if (e.target.name === 'productName') {\n            return this.setState(preState => ({ ...preState,\n              cursor: preState.cursor + 1,\n              selectedList: this.state.listForProduct[preState.cursor + 1],\n              productId: this.state.listForProduct[preState.cursor + 1].id\n            }));\n          }\n\n          return this.setState(preState => ({ ...preState,\n            cursor: preState.cursor + 1,\n            selectedList: this.state.listForProduct[preState.cursor + 1],\n            productName: this.state.listForProduct[preState.cursor + 1].name\n          }));\n        }\n\n        if (e.keyCode === 38 && this.state.cursor > 0) {\n          e.preventDefault();\n\n          if (e.target.name === 'productName') {\n            return this.setState(preState => ({ ...preState,\n              cursor: preState.cursor - 1,\n              selectedList: this.state.listForProduct[preState.cursor - 1],\n              productId: this.state.listForProduct[preState.cursor - 1].id\n            }));\n          } // this.setState((preState) => ({\n          // \t...preState,\n          // \tcursor: preState.cursor - 1,\n          // }));\n\n        }\n\n        if (e.keyCode === 13) {\n          e.preventDefault();\n\n          if (this.state.listForId.length > 0 || this.state.listForProduct.length > 0) {\n            this.setState({\n              productId: this.state.selectedList.id,\n              productName: this.state.selectedList.name,\n              listForId: [],\n              listForProduct: []\n            });\n          }\n        }\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (this.state.selectedList === undefined) {\n        const message = 'All field details are must';\n        return this.props.setMessage(message);\n      }\n\n      if (Number(this.state.quantity) === 0) {\n        const message = 'Quantity not added . Please give valid quantity';\n        return this.props.setMessage(message);\n      }\n\n      const item = { ...this.state.selectedList,\n        quantity: this.state.quantity,\n        total: this.state.selectedList.price * this.state.quantity\n      };\n      this.props.setAddItemToOderList(item);\n      this.setState({\n        cursor: 0,\n        productId: '',\n        productName: '',\n        productPrice: '',\n        quantity: 0,\n        selected: '',\n        listForId: [],\n        selectedList: undefined\n      });\n      this.textInput.current.focus();\n    };\n\n    this.state = {\n      entringData: false,\n      cursor: 0,\n      productId: '',\n      productName: '',\n      productPrice: '',\n      quantity: 0,\n      selected: '',\n      listForId: [],\n      listForProduct: [],\n      selectedList: undefined,\n      list: [{\n        id: 1,\n        name: 'milk',\n        price: 2\n      }, {\n        id: 2,\n        name: 'water',\n        price: 1\n      }, {\n        id: 3,\n        name: 'tea',\n        price: 3\n      }]\n    };\n    this.textInput = React.createRef();\n  }\n\n  componentDidMount() {\n    this.textInput.current.focus();\n  }\n\n  componentDidUpdate() {\n    console.log(this.state.entringData);\n\n    if (this.state.entringData === true) {\n      return this.textInput.current.focus();\n    }\n\n    if (this.props.focusSaleForm === true) {\n      this.textInput.current.focus();\n    }\n  }\n\n  render() {\n    console.log(this.props);\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"sale-panel\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(SearchInput, {\n      id: \"id\",\n      name: \"productId\",\n      placeholder: \"Product Id\",\n      value: this.state.productId,\n      cursor: this.state.cursor,\n      keyDown: this.handleKeyDown,\n      list: this.state.listForId.map(data => data.id),\n      autoComplete: \"off\",\n      handleChange: this.handleChange,\n      inputRef: this.textInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(SearchInput, {\n      id: \"name\",\n      type: \"text\",\n      name: \"productName\",\n      placeholder: \"Product Name\",\n      value: this.state.productName,\n      cursor: this.state.cursor,\n      list: this.state.listForProduct.map(data => data.name),\n      handleChange: this.handleChange,\n      keyDown: this.handleKeyDown,\n      autoComplete: \"off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(SearchInput, {\n      id: \"quantity\",\n      name: \"quantity\",\n      placeholder: \"quantity\",\n      value: this.state.quantity,\n      handleChange: this.handleChange,\n      autoComplete: \"off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 5\n      }\n    }, \"Price:\", ' ', this.state.selectedList === undefined ? '' : this.state.selectedList.price), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 5\n      }\n    }, \"Value:\", ' ', this.state.selectedList === undefined || this.state.selectedList.length === 0 ? 0 : this.state.selectedList.price * this.state.quantity), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 5\n      }\n    }, \"Submit\"));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n  setAddItemToOderList: item => dispatch(setAddItemToOderList(item)),\n  setMessage: message => dispatch(setMessage(message))\n});\n\nexport default connect(null, mapDispatchToProps)(SaleForm);","map":{"version":3,"sources":["C:/Users/admin/Desktop/sales-record-app/src/components/sale-form/sale-form.component.jsx"],"names":["React","SearchInput","setAddItemToOderList","setMessage","connect","SaleForm","Component","constructor","props","handleChange","e","name","value","target","data","state","list","filter","val","Number","id","includes","setState","newlist","listForId","productId","prevState","entringData","selectedList","length","cursor","undefined","productName","listForProduct","handleKeyDown","keyCode","preventDefault","preState","handleSubmit","message","quantity","item","total","price","productPrice","selected","textInput","current","focus","createRef","componentDidMount","componentDidUpdate","console","log","focusSaleForm","render","map","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["/** @format */\r\n\r\nimport React from 'react';\r\n\r\nimport SearchInput from '../search-inut-box/search-input.box';\r\nimport { setAddItemToOderList, setMessage } from '../../redux/oder/oder.action';\r\nimport './sale-form.style.scss';\r\nimport { connect } from 'react-redux';\r\n\r\nclass SaleForm extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tentringData: false,\r\n\t\t\tcursor: 0,\r\n\t\t\tproductId: '',\r\n\t\t\tproductName: '',\r\n\t\t\tproductPrice: '',\r\n\t\t\tquantity: 0,\r\n\t\t\tselected: '',\r\n\t\t\tlistForId: [],\r\n\t\t\tlistForProduct: [],\r\n\t\t\tselectedList: undefined,\r\n\t\t\tlist: [\r\n\t\t\t\t{ id: 1, name: 'milk', price: 2 },\r\n\t\t\t\t{ id: 2, name: 'water', price: 1 },\r\n\t\t\t\t{ id: 3, name: 'tea', price: 3 },\r\n\t\t\t],\r\n\t\t};\r\n\t\tthis.textInput = React.createRef();\r\n\t}\r\n\thandleChange = (e) => {\r\n\t\tconst { name, value } = e.target;\r\n\r\n\t\tconst data = () => {\r\n\t\t\tswitch (name) {\r\n\t\t\t\tcase 'productId':\r\n\t\t\t\t\treturn this.state.list.filter(\r\n\t\t\t\t\t\t(val) => Number(val.id) === Number(value),\r\n\t\t\t\t\t);\r\n\t\t\t\tcase 'productName':\r\n\t\t\t\t\treturn this.state.list.filter((data) => data.name.includes(value));\r\n\t\t\t\tcase 'quantity':\r\n\t\t\t\t\treturn this.setState({ ...this.setState, [name]: value });\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst newlist = data();\r\n\r\n\t\tif (name === 'productId') {\r\n\t\t\tif (!value) {\r\n\t\t\t\treturn this.setState({\r\n\t\t\t\t\t...this.state,\r\n\t\t\t\t\tlistForId: [],\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn this.setState((prevState) => ({\r\n\t\t\t\t...prevState,\r\n\t\t\t\tentringData: true,\r\n\t\t\t\t[name]: value,\r\n\t\t\t\tlistForId: newlist,\r\n\t\t\t\tselectedList:\r\n\t\t\t\t\tnewlist.length > 0 ? newlist[this.state.cursor] : undefined,\r\n\t\t\t\tproductName: newlist.length ? newlist[this.state.cursor].name : '',\r\n\t\t\t}));\r\n\t\t}\r\n\t\tif (name === 'productName') {\r\n\t\t\tif (!value) {\r\n\t\t\t\treturn this.setState({\r\n\t\t\t\t\t...this.state,\r\n\t\t\t\t\tlistForProduct: [],\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this.setState({\r\n\t\t\t\t...this.state,\r\n\t\t\t\tentringData: true,\r\n\t\t\t\t[name]: value,\r\n\t\t\t\tlistForProduct: newlist,\r\n\t\t\t\tproductId: newlist.length > 0 ? newlist[this.state.cursor].id : '',\r\n\t\t\t\tselectedList: newlist ? newlist[this.state.cursor] : undefined,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleKeyDown = (e) => {\r\n\t\tif (this.state.productId || this.state.productName) {\r\n\t\t\tif (\r\n\t\t\t\t(e.keyCode === 40 &&\r\n\t\t\t\t\tthis.state.cursor < this.state.listForProduct.length - 1) ||\r\n\t\t\t\tthis.state.cursor < this.state.listForId.length - 1\r\n\t\t\t) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (e.target.name === 'productName') {\r\n\t\t\t\t\treturn this.setState((preState) => ({\r\n\t\t\t\t\t\t...preState,\r\n\t\t\t\t\t\tcursor: preState.cursor + 1,\r\n\t\t\t\t\t\tselectedList: this.state.listForProduct[preState.cursor + 1],\r\n\t\t\t\t\t\tproductId: this.state.listForProduct[preState.cursor + 1].id,\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t\treturn this.setState((preState) => ({\r\n\t\t\t\t\t...preState,\r\n\t\t\t\t\tcursor: preState.cursor + 1,\r\n\t\t\t\t\tselectedList: this.state.listForProduct[preState.cursor + 1],\r\n\t\t\t\t\tproductName: this.state.listForProduct[preState.cursor + 1].name,\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t\tif (e.keyCode === 38 && this.state.cursor > 0) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (e.target.name === 'productName') {\r\n\t\t\t\t\treturn this.setState((preState) => ({\r\n\t\t\t\t\t\t...preState,\r\n\t\t\t\t\t\tcursor: preState.cursor - 1,\r\n\t\t\t\t\t\tselectedList: this.state.listForProduct[preState.cursor - 1],\r\n\t\t\t\t\t\tproductId: this.state.listForProduct[preState.cursor - 1].id,\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// this.setState((preState) => ({\r\n\t\t\t\t// \t...preState,\r\n\t\t\t\t// \tcursor: preState.cursor - 1,\r\n\t\t\t\t// }));\r\n\t\t\t}\r\n\t\t\tif (e.keyCode === 13) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.state.listForId.length > 0 ||\r\n\t\t\t\t\tthis.state.listForProduct.length > 0\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tproductId: this.state.selectedList.id,\r\n\t\t\t\t\t\tproductName: this.state.selectedList.name,\r\n\t\t\t\t\t\tlistForId: [],\r\n\t\t\t\t\t\tlistForProduct: [],\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (this.state.selectedList === undefined) {\r\n\t\t\tconst message = 'All field details are must';\r\n\t\t\treturn this.props.setMessage(message);\r\n\t\t}\r\n\t\tif (Number(this.state.quantity) === 0) {\r\n\t\t\tconst message = 'Quantity not added . Please give valid quantity';\r\n\t\t\treturn this.props.setMessage(message);\r\n\t\t}\r\n\r\n\t\tconst item = {\r\n\t\t\t...this.state.selectedList,\r\n\t\t\tquantity: this.state.quantity,\r\n\t\t\ttotal: this.state.selectedList.price * this.state.quantity,\r\n\t\t};\r\n\t\tthis.props.setAddItemToOderList(item);\r\n\t\tthis.setState({\r\n\t\t\tcursor: 0,\r\n\t\t\tproductId: '',\r\n\t\t\tproductName: '',\r\n\t\t\tproductPrice: '',\r\n\t\t\tquantity: 0,\r\n\t\t\tselected: '',\r\n\t\t\tlistForId: [],\r\n\t\t\tselectedList: undefined,\r\n\t\t});\r\n\t\tthis.textInput.current.focus();\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\tthis.textInput.current.focus();\r\n\t}\r\n\tcomponentDidUpdate() {\r\n\t\tconsole.log(this.state.entringData);\r\n\t\tif (this.state.entringData === true) {\r\n\t\t\treturn this.textInput.current.focus();\r\n\t\t}\r\n\t\tif (this.props.focusSaleForm === true) {\r\n\t\t\tthis.textInput.current.focus();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(this.props);\r\n\t\treturn (\r\n\t\t\t<form className='sale-panel' onSubmit={this.handleSubmit}>\r\n\t\t\t\t<SearchInput\r\n\t\t\t\t\tid='id'\r\n\t\t\t\t\tname='productId'\r\n\t\t\t\t\tplaceholder='Product Id'\r\n\t\t\t\t\tvalue={this.state.productId}\r\n\t\t\t\t\tcursor={this.state.cursor}\r\n\t\t\t\t\tkeyDown={this.handleKeyDown}\r\n\t\t\t\t\tlist={this.state.listForId.map((data) => data.id)}\r\n\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tinputRef={this.textInput}\r\n\t\t\t\t/>\r\n\t\t\t\t<SearchInput\r\n\t\t\t\t\tid='name'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='productName'\r\n\t\t\t\t\tplaceholder='Product Name'\r\n\t\t\t\t\tvalue={this.state.productName}\r\n\t\t\t\t\tcursor={this.state.cursor}\r\n\t\t\t\t\tlist={this.state.listForProduct.map((data) => data.name)}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tkeyDown={this.handleKeyDown}\r\n\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t/>\r\n\t\t\t\t<SearchInput\r\n\t\t\t\t\tid='quantity'\r\n\t\t\t\t\tname='quantity'\r\n\t\t\t\t\tplaceholder='quantity'\r\n\t\t\t\t\tvalue={this.state.quantity}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t/>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tPrice:{' '}\r\n\t\t\t\t\t{this.state.selectedList === undefined\r\n\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t: this.state.selectedList.price}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tValue:{' '}\r\n\t\t\t\t\t{this.state.selectedList === undefined ||\r\n\t\t\t\t\tthis.state.selectedList.length === 0\r\n\t\t\t\t\t\t? 0\r\n\t\t\t\t\t\t: this.state.selectedList.price * this.state.quantity}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<button>Submit</button>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tsetAddItemToOderList: (item) => dispatch(setAddItemToOderList(item)),\r\n\tsetMessage: (message) => dispatch(setMessage(message)),\r\n});\r\nexport default connect(null, mapDispatchToProps)(SaleForm);\r\n"]},"metadata":{},"sourceType":"module"}